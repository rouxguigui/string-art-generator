(function(t){function e(e){for(var n,r,o=e[0],l=e[1],c=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,o=1;o<a.length;o++){var l=a[o];0!==i[l]&&(n=!1)}n&&(s.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},i={app:0},s=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],l=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var u=l;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"2ec9":function(t,e,a){"use strict";var n=a("7ef9"),i=a.n(n);i.a},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("home")],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"home"}},[a("div",{staticClass:"properties-panel"},[a("div",{staticClass:"properties-group",attrs:{id:"properties"}},[a("h4",[t._v("Propriétés")]),t.layerSelected?a("div",{staticClass:"content"},[a("b-form-group",[a("b-input-group",[a("b-input-group-text",[t._v("Nom")]),a("b-input",{attrs:{type:"text"},model:{value:t.layerSelected.name,callback:function(e){t.$set(t.layerSelected,"name",e)},expression:"layerSelected.name"}})],1)],1),a("b-form-group",[a("b-input-group",[a("b-input-group-text",[t._v("Couleur")]),a("b-input",{attrs:{type:"color"},model:{value:t.layerSelected.color,callback:function(e){t.$set(t.layerSelected,"color",e)},expression:"layerSelected.color"}})],1)],1)],1):a("div",{staticClass:"content"},[a("b-form-group",[a("b-input-group",[a("b-input-group-text",[t._v("Forme de base")]),a("b-select",{model:{value:t.board.shape,callback:function(e){t.$set(t.board,"shape",e)},expression:"board.shape"}},[a("option",{attrs:{value:"circle"}},[t._v("Cercle")])])],1)],1),a("b-form-group",[a("b-input-group",[a("b-input-group-text",[t._v("Rayon (cm)")]),a("b-input",{attrs:{type:"number",min:"1",max:"150",step:"1"},model:{value:t.board.radius,callback:function(e){t.$set(t.board,"radius",t._n(e))},expression:"board.radius"}})],1)],1),a("b-form-group",[a("b-input-group",[a("b-input-group-text",[t._v("Nombre de clous")]),a("b-select",{model:{value:t.board.nails,callback:function(e){t.$set(t.board,"nails",t._n(e))},expression:"board.nails"}},t._l(999,(function(e){return a("option",{key:"nail-"+e,domProps:{value:e+1}},[t._v(t._s(e+1))])})),0)],1)],1),a("b-form-group",[a("b-input-group",[a("b-input-group-text",[t._v("Taille")]),a("b-input",{attrs:{type:"number",min:"1",max:"150",step:"1"},model:{value:t.board.width,callback:function(e){t.$set(t.board,"width",t._n(e))},expression:"board.width"}}),a("b-input-group-text",[t._v(" x ")]),a("b-input",{attrs:{type:"number",min:"1",max:"150",step:"1"},model:{value:t.board.height,callback:function(e){t.$set(t.board,"height",t._n(e))},expression:"board.height"}})],1)],1)],1)]),a("div",{staticClass:"properties-group",attrs:{id:"layers"}},[a("h4",[t._v("Couches")]),a("div",{staticClass:"content"},[a("div",{staticClass:"layer",on:{click:function(e){t.layerSelected=null}}},[a("div",{staticClass:"visibility"}),a("div",{staticClass:"name"},[t._v(" Board ")])]),t._l(t.layers,(function(e,n){return a("div",{key:"index-"+n,staticClass:"layer",on:{click:function(a){t.layerSelected=e}}},[a("div",{staticClass:"visibility",on:{click:function(t){t.stopPropagation(),e.visible=!e.visible}}},[e.visible?a("i",{staticClass:"fas fa-eye fa-fw"}):a("i",{staticClass:"fas fa-eye-slash fa-fw"})]),a("div",{staticClass:"name"},[t._v(" "+t._s(e.name)+" ")]),a("div",{staticClass:"color"},[a("i",{staticClass:"fas fa-dot-circle",style:{color:e.color}})])])}))],2)]),a("div",{staticClass:"properties-group",attrs:{id:"options"}},[a("h4",[t._v("Options")]),a("div",{staticClass:"content"},[a("b-form-group",{attrs:{label:"Zoom"}},[a("b-form-spinbutton",{attrs:{size:"sm",step:"0.1",min:"0.1",max:"3"},model:{value:t.zoom,callback:function(e){t.zoom=t._n(e)},expression:"zoom"}})],1)],1)])]),a("main-page",[a("board",{attrs:{layers:t.layers,zoom:t.zoom,board:t.board}})],1)],1)},o=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"board"},[a("canvas",{style:{transform:"scale("+t.zoom+")"},attrs:{id:"board-canvas",width:t.board.width*t.scale,height:t.board.height*t.scale}})])},c=[],u=(a("a4d3"),a("e01a"),a("d28b"),a("cb29"),a("a9e3"),a("d3b7"),a("3ca3"),a("ddb0"),a("d4ec")),d=a("bee2"),h=function(){function t(e){Object(u["a"])(this,t),this.element=document.getElementById(e),this.context=this.element.getContext("2d"),this.context.strokeStyle="#000",this.context.fillStyle="#f26a63"}return Object(d["a"])(t,[{key:"clear",value:function(t,e){this.context.clearRect(0,0,this.element.width,this.element.height),t&&this.fill(t,e)}},{key:"fill",value:function(t,e){this.context.globalAlpha=e||1,this.context.fillStyle=t,this.context.fillRect(0,0,this.element.width,this.element.height),this.context.globalAlpha=1}}]),t}(),b={name:"board",props:{zoom:{type:Number},scale:{type:Number,default:50},board:{type:Object},layers:{type:Array}},data:function(){return{canvas:null,nails:[]}},mounted:function(){this.canvas=new h("board-canvas"),this.redraw()},computed:{centerX:function(){return this.board.width*this.scale/2},centerY:function(){return this.board.width*this.scale/2}},methods:{generateNails:function(){this.nails=[];for(var t=0;t<this.board.nails;t++){var e=90-360*t/this.board.nails;e*=Math.PI/180,this.nails.push({x:this.centerX+this.board.radius*this.scale*Math.cos(e),y:this.centerY+this.board.radius*this.scale*Math.sin(e),textX:this.centerX+1.05*this.board.radius*this.scale*Math.cos(e),textY:this.centerY+1.05*this.board.radius*this.scale*Math.sin(e)})}},redraw:function(){this.canvas.clear(),this.generateNails(),this.drawLayers(),this.drawNails()},drawNails:function(){this.canvas.context.strokeStyle="#bbb",this.canvas.context.lineWidth=1,this.canvas.context.beginPath(),this.canvas.context.moveTo(0,0),this.canvas.context.lineTo(this.board.width*this.scale,this.board.height*this.scale),this.canvas.context.stroke(),this.canvas.context.beginPath(),this.canvas.context.moveTo(0,this.board.height*this.scale),this.canvas.context.lineTo(this.board.width*this.scale,0),this.canvas.context.stroke(),this.canvas.context.fillStyle="#bbb";var t=!0,e=!1,a=void 0;try{for(var n,i=this.nails[Symbol.iterator]();!(t=(n=i.next()).done);t=!0){var s=n.value;this.canvas.context.beginPath(),this.canvas.context.arc(s.x,s.y,6,0,2*Math.PI),this.canvas.context.fill()}}catch(r){e=!0,a=r}finally{try{t||null==i.return||i.return()}finally{if(e)throw a}}},drawLayers:function(){var t=0,e=!0,a=!1,n=void 0;try{for(var i,s=this.layers[Symbol.iterator]();!(e=(i=s.next()).done);e=!0){var r=i.value;this.drawLayer(t,r),t++}}catch(o){a=!0,n=o}finally{try{e||null==s.return||s.return()}finally{if(a)throw n}}},drawLayer:function(t,e){if(!e.visible)return!1;this.canvas.context.strokeStyle=e.color,this.canvas.context.lineWidth=1;var a=-t*this.board.nails/(this.layers.length-1)/2;this.canvas.context.beginPath();for(var n=0;n<this.board.nails/2;n++){var i=this.nails[this.modulo(a+n,this.board.nails)];this.canvas.context.moveTo(i.x,i.y),i=this.nails[this.modulo(a+2*n+this.board.nails/2,this.board.nails)],this.canvas.context.lineTo(i.x,i.y)}this.canvas.context.stroke()},modulo:function(t,e){var a=Number(t)%Number(e);return a<0?e+a:a}},watch:{board:{deep:!0,handler:function(){this.redraw()}},layers:{deep:!0,handler:function(){this.redraw()}}}},p=b,f=(a("a039"),a("2877")),v=Object(f["a"])(p,l,c,!1,null,"135e9028",null),m=v.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-page"},[t._t("default")],2)},x=[],g={name:"main-page"},w=g,_=(a("bf3d"),Object(f["a"])(w,y,x,!1,null,"6a2900b8",null)),k=_.exports,C={name:"home",components:{Board:m,MainPage:k},data:function(){return{board:{width:55.88,height:55.88,nails:320,radius:25,shape:"circle"},zoom:.5,layerSelected:!1,layers:[],defaultPalette:["#051f24","#1d758a","#036074","#5b93a3","#3587a3","#3aa1aa","#93cccc","#8eb1af","#88babf"]}},mounted:function(){for(var t=0;t<9;t++)this.addLayer()},methods:{addLayer:function(){this.layers.push({name:"Fil ".concat(this.layers.length),color:this.defaultPalette[this.layers.length%this.defaultPalette.length],visible:!0})}}},S=C,P=(a("2ec9"),Object(f["a"])(S,r,o,!1,null,"727df957",null)),O=P.exports,j={name:"App",components:{home:O}},$=j,M=(a("5c0b"),Object(f["a"])($,i,s,!1,null,null,null)),N=M.exports,T=a("2f62");n["default"].use(T["a"]);var z=new T["a"].Store({state:{},getters:{},mutations:{},actions:{}}),L=a("5f5b");a("f82b"),a("1fc5");n["default"].config.productionTip=!1,n["default"].use(L["a"]),new n["default"]({store:z,render:function(t){return t(N)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"5f27":function(t,e,a){},"7ef9":function(t,e,a){},"9c0c":function(t,e,a){},a039:function(t,e,a){"use strict";var n=a("a215"),i=a.n(n);i.a},a215:function(t,e,a){},bf3d:function(t,e,a){"use strict";var n=a("5f27"),i=a.n(n);i.a}});
//# sourceMappingURL=app.d6860767.js.map